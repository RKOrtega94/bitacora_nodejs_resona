extends ../layout

block content
  // Page Wrapper
  #wrapper
    include ../helpers/admin-sidebar
    // Content Wrapper
    #content-wrapper.d-flex.flex-column
      // Main Content
      #content
        include ../helpers/topbar
        // Begin Page Content
        .container-fluid
          // Page Heading
          .d-sm-flex.align-items-center.justify-content-between.mb-4
            h1.h3.mb-0.text-gray-800 Home PAGE
        include ../helpers/footer
        include ../helpers/logout
  //JQuery
  script(src='/vendor/jquery/jquery.min.js')
  // Data table Scripts
  script(src='/vendor/datatables/jquery.dataTables.min.js')
  script(src='/javascripts/demo/datatables-demo.js')
  script.
    var user = !{result}
    var result = user
    function addRow(data) {
      var table = $('#dataTable').DataTable();
      table.row.add([
        data.username,
        data.email,
        data.role,
        "<a href=\"/user/edit/"+data.id+"\">Editar</a> / <a href=\"/user/delete/"+data.id+"\">Eliminar</a>"
        ]).draw(true)
    };
    result.forEach(user => {
      addRow(user)
    });